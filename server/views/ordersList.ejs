<%- include('templates/header') %>
<section class="flex justify-center">

  <div class="container w-full md:w-4/5 xl:w-3/5  mx-auto px-2">
    <div class="p-8 mt-6 lg:mt-0 rounded shadow bg-white">
      <table id="order-table" class="stripe hover" style="width:100%; padding-top: 1em;  padding-bottom: 1em;">
        <thead>
          <tr>
            <th data-priority="1">ID</th>
            <th data-priority="2">Email</th>
            <th data-priority="3">Price</th>
            <th data-priority="4">Transaction</th>
          </tr>
        </thead>
        <tbody>
          <% orders.forEach((order, index) => { %>

          <tr>
            <td><%= index %></td>
            <td><%= order.Customer.email %></td>
            <td><%= order.TotalPrice %></td>
            <td>
                  <a
                          class="button bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded" data-id="<%= order.id %>"
                          href="/shop/orders/<%= order.id %>"
                  >
                    View
                  </a>
            </td>
          </tr>

          <% }); %>

        </tbody>

      </table>

    </div>
  </div>

</section>

<script type="application/javascript">
  let dataTable = new DataTable("#order-table", {
    responsive: true,
  });
</script>
<%- include('templates/footer') %>